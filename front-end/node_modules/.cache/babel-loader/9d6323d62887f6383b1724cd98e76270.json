{"ast":null,"code":"import _slicedToArray from\"C:/Users/jeonh/Desktop/PROJECT/Social-Media-Project/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"C:/Users/jeonh/Desktop/PROJECT/Social-Media-Project/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\n=========================================================\n* Material Dashboard 2 React - v2.1.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2022 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/import*as React from'react';import{useState}from'react';import{Link,useNavigate,useLocation}from'react-router-dom';// @mui material components\nimport Grid from'@mui/material/Grid';import Card from'@mui/material/Card';// Material Dashboard 2 React components\nimport MDBox from'components/MDBox';import MDTypography from'components/MDTypography';import MDInput from'components/MDInput';import MDButton from'components/MDButton';// Material Dashboard 2 React example components\nimport DashboardLayout from'examples/LayoutContainers/DashboardLayout';import DashboardNavbar from'examples/Navbars/DashboardNavbar';import Footer from'examples/Footer';import DataTable from'examples/Tables/DataTable';import Button from'@mui/material/Button';import Dialog from'@mui/material/Dialog';import DialogActions from'@mui/material/DialogActions';import DialogContent from'@mui/material/DialogContent';import DialogContentText from'@mui/material/DialogContentText';import DialogTitle from'@mui/material/DialogTitle';import Slide from'@mui/material/Slide';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Transition=/*#__PURE__*/React.forwardRef(function Transition(props,ref){return/*#__PURE__*/_jsx(Slide,_objectSpread({direction:\"up\",ref:ref},props));});function ModifyPost(){var _useLocation=useLocation(),state=_useLocation.state;console.log(state);var _useState=useState(state.title),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(state.body),_useState4=_slicedToArray(_useState3,2),body=_useState4[0],setBody=_useState4[1];var _useState5=useState(state.id),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setId=_useState6[1];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),dialogTitle=_React$useState4[0],setDialogTitle=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),dialogMessage=_React$useState6[0],setDialogMessage=_React$useState6[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var handleModifyPost=function handleModifyPost(event){console.log(localStorage.getItem('token'));console.log('title : '+title);console.log('body : '+body);console.log('id : '+id);axios({url:'/api/v1/posts/'+id,method:'PUT',headers:{Authorization:'Bearer '+localStorage.getItem('token')},data:{title:title,body:body}}).then(function(res){setDialogTitle('success');setOpen(true);console.log('success');}).catch(function(error){setDialogTitle(error.response.data.resultCode);setDialogMessage(error.response.data.resultMessage);setOpen(true);console.log(error);});};return/*#__PURE__*/_jsx(DashboardLayout,{children:/*#__PURE__*/_jsx(MDBox,{pt:6,pb:3,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(MDBox,{pt:4,pb:3,px:3,children:/*#__PURE__*/_jsxs(MDBox,{component:\"form\",role:\"form\",children:[/*#__PURE__*/_jsx(MDBox,{mb:2,children:/*#__PURE__*/_jsx(MDInput,{label:\"Title\",defaultValue:title,onChange:function onChange(v){return setTitle(v.target.value);},fullWidth:true})}),/*#__PURE__*/_jsx(MDBox,{mb:2,children:/*#__PURE__*/_jsx(MDInput,{label:\"Body\",defaultValue:body,multiline:true,rows:20,onChange:function onChange(v){return setBody(v.target.value);},fullWidth:true})}),/*#__PURE__*/_jsx(MDBox,{mt:4,mb:1,right:true,children:/*#__PURE__*/_jsx(MDButton,{onClick:handleModifyPost,variant:\"gradient\",color:\"info\",children:\"Update\"})})]})}),/*#__PURE__*/_jsxs(Dialog,{open:open,TransitionComponent:Transition,keepMounted:true,onClose:handleClose,\"aria-describedby\":\"alert-dialog-slide-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{children:dialogTitle}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{id:\"alert-dialog-slide-description\",children:dialogMessage})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"OK\"})})]})]})})});}export default ModifyPost;","map":{"version":3,"names":["React","useState","Link","useNavigate","useLocation","Grid","Card","MDBox","MDTypography","MDInput","MDButton","DashboardLayout","DashboardNavbar","Footer","DataTable","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Slide","axios","Transition","forwardRef","props","ref","ModifyPost","state","console","log","title","setTitle","body","setBody","id","setId","open","setOpen","dialogTitle","setDialogTitle","dialogMessage","setDialogMessage","handleClickOpen","handleClose","handleModifyPost","event","localStorage","getItem","url","method","headers","Authorization","data","then","res","catch","error","response","resultCode","resultMessage","v","target","value"],"sources":["C:/Users/jeonh/Desktop/PROJECT/Social-Media-Project/front-end/src/layouts/modifypost/index.js"],"sourcesContent":["/**\n=========================================================\n* Material Dashboard 2 React - v2.1.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2022 Creative Tim (https://www.creative-tim.com)\n\nCoded by www.creative-tim.com\n\n =========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n*/\n\nimport * as React from 'react';\nimport { useState } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\n\n// @mui material components\nimport Grid from '@mui/material/Grid';\nimport Card from '@mui/material/Card';\n\n// Material Dashboard 2 React components\nimport MDBox from 'components/MDBox';\nimport MDTypography from 'components/MDTypography';\nimport MDInput from 'components/MDInput';\nimport MDButton from 'components/MDButton';\n\n// Material Dashboard 2 React example components\nimport DashboardLayout from 'examples/LayoutContainers/DashboardLayout';\nimport DashboardNavbar from 'examples/Navbars/DashboardNavbar';\nimport Footer from 'examples/Footer';\nimport DataTable from 'examples/Tables/DataTable';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Slide from '@mui/material/Slide';\n\nimport axios from 'axios';\n\nconst Transition = React.forwardRef(function Transition(\n  props: TransitionProps & {\n    children: React.ReactElement<any, any>,\n  },\n  ref: React.Ref<unknown>,\n) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nfunction ModifyPost() {\n  const { state } = useLocation();\n  console.log(state);\n  const [title, setTitle] = useState(state.title);\n  const [body, setBody] = useState(state.body);\n  const [id, setId] = useState(state.id);\n  const [open, setOpen] = React.useState(false);\n  const [dialogTitle, setDialogTitle] = React.useState('');\n  const [dialogMessage, setDialogMessage] = React.useState('');\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleModifyPost = (event) => {\n    console.log(localStorage.getItem('token'));\n    console.log('title : ' + title);\n    console.log('body : ' + body);\n    console.log('id : ' + id);\n\n    axios({\n      url: '/api/v1/posts/' + id,\n      method: 'PUT',\n      headers: {\n        Authorization: 'Bearer ' + localStorage.getItem('token'),\n      },\n      data: {\n        title: title,\n        body: body,\n      },\n    })\n      .then((res) => {\n        setDialogTitle('success');\n        setOpen(true);\n        console.log('success');\n      })\n      .catch((error) => {\n        setDialogTitle(error.response.data.resultCode);\n        setDialogMessage(error.response.data.resultMessage);\n        setOpen(true);\n\n        console.log(error);\n      });\n  };\n\n  return (\n    <DashboardLayout>\n      <MDBox pt={6} pb={3}>\n        <Card>\n          <MDBox pt={4} pb={3} px={3}>\n            <MDBox component=\"form\" role=\"form\">\n              <MDBox mb={2}>\n                <MDInput\n                  label=\"Title\"\n                  defaultValue={title}\n                  onChange={(v) => setTitle(v.target.value)}\n                  fullWidth\n                />\n              </MDBox>\n              <MDBox mb={2}>\n                <MDInput\n                  label=\"Body\"\n                  defaultValue={body}\n                  multiline\n                  rows={20}\n                  onChange={(v) => setBody(v.target.value)}\n                  fullWidth\n                />\n              </MDBox>\n              <MDBox mt={4} mb={1} right>\n                <MDButton onClick={handleModifyPost} variant=\"gradient\" color=\"info\">\n                  Update\n                </MDButton>\n              </MDBox>\n            </MDBox>\n          </MDBox>\n          <Dialog\n            open={open}\n            TransitionComponent={Transition}\n            keepMounted\n            onClose={handleClose}\n            aria-describedby=\"alert-dialog-slide-description\"\n          >\n            <DialogTitle>{dialogTitle}</DialogTitle>\n            <DialogContent>\n              <DialogContentText id=\"alert-dialog-slide-description\">\n                {dialogMessage}\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleClose}>OK</Button>\n            </DialogActions>\n          </Dialog>\n        </Card>\n      </MDBox>\n    </DashboardLayout>\n  );\n}\n\nexport default ModifyPost;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}